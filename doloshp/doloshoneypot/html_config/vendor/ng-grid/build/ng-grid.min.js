(function(e,t){"use strict";var n=6,r=4,i="asc",s="desc",o="_ng_field_",u="_ng_depth_",a="_ng_hidden_",f="_ng_column_",l=/CUSTOM_FILTERS/g,c=/COL_FIELD/g,h=/DISPLAY_CELL_TEMPLATE/g,p=/EDITABLE_CELL_TEMPLATE/g,d=/CELL_EDITABLE_CONDITION/g,v=/<.+>/,m=/(\([^)]*\))?$/,g=/\./g,y=/'/g,b=/^(.*)((?:\s*\[\s*\d+\s*\]\s*)|(?:\s*\[\s*"(?:[^"\\]|\\.)*"\s*\]\s*)|(?:\s*\[\s*'(?:[^'\\]|\\.)*'\s*\]\s*))(.*)$/;e.ngGrid={},e.ngGrid.i18n={},angular.module("ngGrid.services",[]);var w=angular.module("ngGrid.directives",[]),E=angular.module("ngGrid.filters",[]);angular.module("ngGrid",["ngGrid.services","ngGrid.directives","ngGrid.filters"]);var S=function(e,t,r,i){if(void 0===e.selectionProvider.selectedItems||i.config.noKeyboardNavigation)return!0;if("INPUT"===document.activeElement.tagName)return!0;var s,o=r.which||r.keyCode,u=!1,a=!1,f=void 0===e.selectionProvider.lastClickedRow?1:e.selectionProvider.lastClickedRow.rowIndex,l=e.columns.filter(function(e){return e.visible&&e.width>0}),c=e.columns.filter(function(e){return e.pinned});if(e.col&&(s=l.indexOf(e.col)),37===o||38===o||39===o||40===o||!i.config.noTabInterference&&9===o||13===o){if(e.enableCellSelection){9===o&&r.preventDefault();var h=e.showSelectionCheckbox?1===s:0===s,p=1===s||0===s,d=s===l.length-1||s===l.length-2,v=l.indexOf(e.col)===l.length-1,m=c.indexOf(e.col)===c.length-1;if(37===o||9===o&&r.shiftKey){var g=0;h||(s-=1),p?h&&9===o&&r.shiftKey?(g=i.$canvas.width(),s=l.length-1,a=!0):g=i.$viewport.scrollLeft()-e.col.width:c.length>0&&(g=i.$viewport.scrollLeft()-l[s].width),i.$viewport.scrollLeft(g)}else(39===o||9===o&&!r.shiftKey)&&(d?v&&9===o&&!r.shiftKey?(i.$viewport.scrollLeft(0),s=e.showSelectionCheckbox?1:0,u=!0):i.$viewport.scrollLeft(i.$viewport.scrollLeft()+e.col.width):m&&i.$viewport.scrollLeft(0),v||(s+=1))}var y;y=e.configGroups.length>0?i.rowFactory.parsedData.filter(function(e){return!e.isAggRow}):i.filteredRows;var b=0;if(0!==f&&(38===o||13===o&&r.shiftKey||9===o&&r.shiftKey&&a)?b=-1:f!==y.length-1&&(40===o||13===o&&!r.shiftKey||9===o&&u)&&(b=1),b){var w=y[f+b];w.beforeSelectionChange(w,r)&&(w.continueSelection(r),e.$emit("ngGridEventDigestGridParent"),e.selectionProvider.lastClickedRow.renderedRowIndex>=e.renderedRows.length-n-2?i.$viewport.scrollTop(i.$viewport.scrollTop()+e.rowHeight):n+2>=e.selectionProvider.lastClickedRow.renderedRowIndex&&i.$viewport.scrollTop(i.$viewport.scrollTop()-e.rowHeight))}return e.enableCellSelection&&setTimeout(function(){e.domAccessProvider.focusCellElement(e,e.renderedColumns.indexOf(l[s]))},3),!1}return!0};String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,n=Number(arguments[1])||0;for(n=0>n?Math.ceil(n):Math.floor(n),0>n&&(n+=t);t>n;n++)if(n in this&&this[n]===e)return n;return-1}),Array.prototype.filter||(Array.prototype.filter=function(e){var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var r=[],i=arguments[1],s=0;n>s;s++)if(s in t){var o=t[s];e.call(i,o,s,t)&&r.push(o)}return r}),E.filter("checkmark",function(){return function(e){return e?"✔":"✘"}}),E.filter("ngColumns",function(){return function(e){return e.filter(function(e){return!e.isAggCol})}}),angular.module("ngGrid.services").factory("$domUtilityService",["$utilityService","$window",function(e,n){var r={},i={},s=function(){var e=t("<div></div>");e.appendTo("body"),e.height(100).width(100).css("position","absolute").css("overflow","scroll"),e.append('<div style="height: 400px; width: 400px;"></div>'),r.ScrollH=e.height()-e[0].clientHeight,r.ScrollW=e.width()-e[0].clientWidth,e.empty(),e.attr("style",""),e.append('<span style="font-family: Verdana, Helvetica, Sans-Serif; font-size: 14px;"><strong>M</strong></span>'),r.LetterW=e.children().first().width(),e.remove()};return r.eventStorage={},r.AssignGridContainers=function(e,n,i){i.$root=t(n),i.$topPanel=i.$root.find(".ngTopPanel"),i.$groupPanel=i.$root.find(".ngGroupPanel"),i.$headerContainer=i.$topPanel.find(".ngHeaderContainer"),e.$headerContainer=i.$headerContainer,i.$headerScroller=i.$topPanel.find(".ngHeaderScroller"),i.$headers=i.$headerScroller.children(),i.$viewport=i.$root.find(".ngViewport"),i.$canvas=i.$viewport.find(".ngCanvas"),i.$footerPanel=i.$root.find(".ngFooterPanel");var s=e.$watch(function(){return i.$viewport.scrollLeft()},function(e){return i.$headerContainer.scrollLeft(e)});e.$on("$destroy",function(){i.$root&&(t(i.$root.parent()).off("resize.nggrid"),i.$root=null,i.$topPanel=null,i.$headerContainer=null,i.$headers=null,i.$canvas=null,i.$footerPanel=null),s()}),r.UpdateGridLayout(e,i)},r.getRealWidth=function(e){var n=0,r={visibility:"hidden",display:"block"},i=e.parents().andSelf().not(":visible");return t.swap(i[0],r,function(){n=e.outerWidth()}),n},r.UpdateGridLayout=function(e,t){if(t.$root){var n=t.$viewport.scrollTop();t.elementDims.rootMaxW=t.$root.width(),t.$root.is(":hidden")&&(t.elementDims.rootMaxW=r.getRealWidth(t.$root)),t.elementDims.rootMaxH=t.$root.height(),t.refreshDomSizes(),e.adjustScrollTop(n,!0)}},r.numberOfGrids=0,r.setStyleText=function(e,t){var r=e.styleSheet,i=e.gridId,s=n.document;r||(r=s.getElementById(i)),r||(r=s.createElement("style"),r.type="text/css",r.id=i,(s.head||s.getElementsByTagName("head")[0]).appendChild(r)),r.styleSheet&&!r.sheet?r.styleSheet.cssText=t:r.innerHTML=t,e.styleSheet=r,e.styleText=t},r.BuildStyles=function(e,t,n){var i,s=t.config.rowHeight,o=t.gridId,u=e.columns,a=0,f=e.totalRowWidth();i="."+o+" .ngCanvas { width: "+f+"px; }"+"."+o+" .ngRow { width: "+f+"px; }"+"."+o+" .ngCanvas { width: "+f+"px; }"+"."+o+" .ngHeaderScroller { width: "+(f+r.ScrollH)+"px}";for(var l=0;u.length>l;l++){var c=u[l];if(c.visible!==!1){var h=0;l===u.length-1&&a+c.width<t.elementDims.rootMaxW&&(h=t.elementDims.rootMaxW-a-c.width),i+="."+o+" .col"+l+" { width: "+(c.width+h)+"px; left: "+a+"px; height: "+s+"px }"+"."+o+" .colt"+l+" { width: "+(c.width+h)+"px; }",a+=c.width}}r.setStyleText(t,i),e.adjustScrollLeft(t.$viewport.scrollLeft()),n&&r.digest(e)},r.setColLeft=function(e,t,n){if(n.styleText){var s=i[e.index];s||(s=i[e.index]=RegExp(".col"+e.index+" { width: [0-9]+px; left: [0-9]+px"));var o=n.styleText.replace(s,".col"+e.index+" { width: "+e.width+"px; left: "+t+"px");r.setStyleText(n,o)}},r.setColLeft.immediate=1,r.RebuildGrid=function(e,t){r.UpdateGridLayout(e,t),(null==t.config.maintainColumnRatios||t.config.maintainColumnRatios)&&t.configureColumnWidths(),e.adjustScrollLeft(t.$viewport.scrollLeft()),r.BuildStyles(e,t,!0)},r.digest=function(e){e.$root.$$phase||e.$digest()},r.ScrollH=17,r.ScrollW=17,r.LetterW=10,s(),r}]),angular.module("ngGrid.services").factory("$sortService",["$parse","$utilityService",function(e,t){var n={};return n.colSortFnCache={},n.isCustomSort=!1,n.guessSortFn=function(e){var t=typeof e;switch(t){case"number":return n.sortNumber;case"boolean":return n.sortBool;case"string":return e.match(/^[-+]?[£$¤]?[\d,.]+%?$/)?n.sortNumberStr:n.sortAlpha;default:return"[object Date]"===Object.prototype.toString.call(e)?n.sortDate:n.basicSort}},n.basicSort=function(e,t){return e===t?0:t>e?-1:1},n.sortNumber=function(e,t){return e-t},n.sortNumberStr=function(e,t){var n,r,i=!1,s=!1;return n=parseFloat(e.replace(/[^0-9.-]/g,"")),isNaN(n)&&(i=!0),r=parseFloat(t.replace(/[^0-9.-]/g,"")),isNaN(r)&&(s=!0),i&&s?0:i?1:s?-1:n-r},n.sortAlpha=function(e,t){var n=e.toLowerCase(),r=t.toLowerCase();return n===r?0:r>n?-1:1},n.sortDate=function(e,t){var n=e.getTime(),r=t.getTime();return n===r?0:r>n?-1:1},n.sortBool=function(e,t){return e&&t?0:e||t?e?1:-1:0},n.sortData=function(e,r){if(r&&e){var s,o,u=e.fields.length,a=e.fields,f=r.slice(0);r.sort(function(r,l){for(var c,h,p=0,d=0;0===p&&u>d;){s=e.columns[d],o=e.directions[d],h=n.getSortFn(s,f);var v=t.evalProperty(r,a[d]),m=t.evalProperty(l,a[d]);n.isCustomSort?(c=h(v,m),p=o===i?c:0-c):null==v||null==m?null==m&&null==v?p=0:null==v?p=1:null==m&&(p=-1):(c=h(v,m),p=o===i?c:0-c),d++}return p})}},n.Sort=function(e,t){n.isSorting||(n.isSorting=!0,n.sortData(e,t),n.isSorting=!1)},n.getSortFn=function(t,r){var i,s;if(n.colSortFnCache[t.field])i=n.colSortFnCache[t.field];else if(void 0!==t.sortingAlgorithm)i=t.sortingAlgorithm,n.colSortFnCache[t.field]=t.sortingAlgorithm,n.isCustomSort=!0;else{if(s=r[0],!s)return i;i=n.guessSortFn(e("entity['"+t.field.replace(g,"']['")+"']")({entity:s})),i?n.colSortFnCache[t.field]=i:i=n.sortAlpha}return i},n}]),angular.module("ngGrid.services").factory("$utilityService",["$parse",function(n){var r=/function (.{1,})\(/,i={visualLength:function(e){var n=document.getElementById("testDataLength");n||(n=document.createElement("SPAN"),n.id="testDataLength",n.style.visibility="hidden",document.body.appendChild(n));var r=t(e);t(n).css({font:r.css("font"),"font-size":r.css("font-size"),"font-family":r.css("font-family")}),n.innerHTML=r.text();var i=n.offsetWidth;return document.body.removeChild(n),i},forIn:function(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},endsWith:function(e,t){return e&&t&&"string"==typeof e?-1!==e.indexOf(t,e.length-t.length):!1},isNullOrUndefined:function(e){return void 0===e||null===e?!0:!1},getElementsByClassName:function(e){if(document.getElementsByClassName)return document.getElementsByClassName(e);for(var t=[],n=RegExp("\\b"+e+"\\b"),r=document.getElementsByTagName("*"),i=0;r.length>i;i++){var s=r[i].className;n.test(s)&&t.push(r[i])}return t},newId:function(){var e=(new Date).getTime();return function(){return e+=1}}(),seti18n:function(t,n){var r=e.ngGrid.i18n[n];for(var i in r)t.i18n[i]=r[i]},getInstanceType:function(e){var t=r.exec(""+e.constructor);if(t&&t.length>1){var n=t[1].replace(/^\s+|\s+$/g,"");return n}return""},init:function(){function e(t){var n=b.exec(t);if(n)return(n[1]?e(n[1]):n[1])+n[2]+(n[3]?e(n[3]):n[3]);t=t.replace(y,"\\'");var r=t.split(g),i=[r.shift()];return angular.forEach(r,function(e){i.push(e.replace(m,"']$1"))}),i.join("['")}return this.preEval=e,this.evalProperty=function(t,r){return n(e("entity."+r))({entity:t})},delete this.init,this}}.init();return i}]);var x=function(e,t,n,r){this.rowIndex=0,this.offsetTop=this.rowIndex*n,this.entity=e,this.label=e.gLabel,this.field=e.gField,this.depth=e.gDepth,this.parent=e.parent,this.children=e.children,this.aggChildren=e.aggChildren,this.aggIndex=e.aggIndex,this.collapsed=r,this.groupInitState=r,this.rowFactory=t,this.rowHeight=n,this.isAggRow=!0,this.offsetLeft=25*e.gDepth,this.aggLabelFilter=e.aggLabelFilter};x.prototype.toggleExpand=function(){this.collapsed=this.collapsed?!1:!0,this.orig&&(this.orig.collapsed=this.collapsed),this.notifyChildren()},x.prototype.setExpand=function(e){this.collapsed=e,this.orig&&(this.orig.collapsed=e),this.notifyChildren()},x.prototype.notifyChildren=function(){for(var e=Math.max(this.rowFactory.aggCache.length,this.children.length),t=0;e>t;t++)if(this.aggChildren[t]&&(this.aggChildren[t].entity[a]=this.collapsed,this.collapsed&&this.aggChildren[t].setExpand(this.collapsed)),this.children[t]&&(this.children[t][a]=this.collapsed),t>this.aggIndex&&this.rowFactory.aggCache[t]){var n=this.rowFactory.aggCache[t],r=30*this.children.length;n.offsetTop=this.collapsed?n.offsetTop-r:n.offsetTop+r}this.rowFactory.renderedChange()},x.prototype.aggClass=function(){return this.collapsed?"ngAggArrowCollapsed":"ngAggArrowExpanded"},x.prototype.totalChildren=function(){if(this.aggChildren.length>0){var e=0,t=function(n){n.aggChildren.length>0?angular.forEach(n.aggChildren,function(e){t(e)}):e+=n.children.length};return t(this),e}return this.children.length},x.prototype.copy=function(){var e=new x(this.entity,this.rowFactory,this.rowHeight,this.groupInitState);return e.orig=this,e};var T=function(e,n,r,o,u,a){var f=this,c=e.colDef,h=500,p=0,d=null;f.colDef=e.colDef,f.width=c.width,f.groupIndex=0,f.isGroupedBy=!1,f.minWidth=c.minWidth?c.minWidth:50,f.maxWidth=c.maxWidth?c.maxWidth:9e3,f.enableCellEdit=void 0!==c.enableCellEdit?c.enableCellEdit:e.enableCellEdit||e.enableCellEditOnFocus,f.cellEditableCondition=c.cellEditableCondition||e.cellEditableCondition||"true",f.headerRowHeight=e.headerRowHeight,f.displayName=void 0===c.displayName?c.field:c.displayName,f.index=e.index,f.isAggCol=e.isAggCol,f.cellClass=c.cellClass,f.sortPriority=void 0,f.cellFilter=c.cellFilter?c.cellFilter:"",f.field=c.field,f.aggLabelFilter=c.aggLabelFilter||c.cellFilter,f.visible=a.isNullOrUndefined(c.visible)||c.visible,f.sortable=!1,f.resizable=!1,f.pinnable=!1,f.pinned=e.enablePinning&&c.pinned,f.originalIndex=null==e.originalIndex?f.index:e.originalIndex,f.groupable=a.isNullOrUndefined(c.groupable)||c.groupable,e.enableSort&&(f.sortable=a.isNullOrUndefined(c.sortable)||c.sortable),e.enableResize&&(f.resizable=a.isNullOrUndefined(c.resizable)||c.resizable),e.enablePinning&&(f.pinnable=a.isNullOrUndefined(c.pinnable)||c.pinnable),f.sortDirection=void 0,f.sortingAlgorithm=c.sortFn,f.headerClass=c.headerClass,f.cursor=f.sortable?"pointer":"default",f.headerCellTemplate=c.headerCellTemplate||u.get("headerCellTemplate.html"),f.cellTemplate=c.cellTemplate||u.get("cellTemplate.html").replace(l,f.cellFilter?"|"+f.cellFilter:""),f.enableCellEdit&&(f.cellEditTemplate=c.cellEditTemplate||u.get("cellEditTemplate.html"),f.editableCellTemplate=c.editableCellTemplate||u.get("editableCellTemplate.html")),c.cellTemplate&&!v.test(c.cellTemplate)&&(f.cellTemplate=u.get(c.cellTemplate)||t.ajax({type:"GET",url:c.cellTemplate,async:!1}).responseText),f.enableCellEdit&&c.editableCellTemplate&&!v.test(c.editableCellTemplate)&&(f.editableCellTemplate=u.get(c.editableCellTemplate)||t.ajax({type:"GET",url:c.editableCellTemplate,async:!1}).responseText),c.headerCellTemplate&&!v.test(c.headerCellTemplate)&&(f.headerCellTemplate=u.get(c.headerCellTemplate)||t.ajax({type:"GET",url:c.headerCellTemplate,async:!1}).responseText),f.colIndex=function(){var e=f.pinned?"pinned ":"";return e+="col"+f.index+" colt"+f.index,f.cellClass&&(e+=" "+f.cellClass),e},f.groupedByClass=function(){return f.isGroupedBy?"ngGroupedByIcon":"ngGroupIcon"},f.toggleVisible=function(){f.visible=!f.visible},f.showSortButtonUp=function(){return f.sortable?f.sortDirection===s:f.sortable},f.showSortButtonDown=function(){return f.sortable?f.sortDirection===i:f.sortable},f.noSortVisible=function(){return!f.sortDirection},f.sort=function(t){if(!f.sortable)return!0;var n=f.sortDirection===i?s:i;return f.sortDirection=n,e.sortCallback(f,t),!1},f.gripClick=function(){p++,1===p?d=setTimeout(function(){p=0},h):(clearTimeout(d),e.resizeOnDataCallback(f),p=0)},f.gripOnMouseDown=function(e){return n.isColumnResizing=!0,e.ctrlKey&&!f.pinned?(f.toggleVisible(),o.BuildStyles(n,r),!0):(e.target.parentElement.style.cursor="col-resize",f.startMousePosition=e.clientX,f.origWidth=f.width,t(document).mousemove(f.onMouseMove),t(document).mouseup(f.gripOnMouseUp),!1)},f.onMouseMove=function(e){var t=e.clientX-f.startMousePosition,i=t+f.origWidth;return f.width=f.minWidth>i?f.minWidth:i>f.maxWidth?f.maxWidth:i,n.hasUserChangedGridColumnWidths=!0,o.BuildStyles(n,r),!1},f.gripOnMouseUp=function(e){return t(document).off("mousemove",f.onMouseMove),t(document).off("mouseup",f.gripOnMouseUp),e.target.parentElement.style.cursor="default",o.digest(n),n.isColumnResizing=!1,!1},f.copy=function(){var t=new T(e,n,r,o,u,a);return t.isClone=!0,t.orig=f,t},f.setVars=function(e){f.orig=e,f.width=e.width,f.groupIndex=e.groupIndex,f.isGroupedBy=e.isGroupedBy,f.displayName=e.displayName,f.index=e.index,f.isAggCol=e.isAggCol,f.cellClass=e.cellClass,f.cellFilter=e.cellFilter,f.field=e.field,f.aggLabelFilter=e.aggLabelFilter,f.visible=e.visible,f.sortable=e.sortable,f.resizable=e.resizable,f.pinnable=e.pinnable,f.pinned=e.pinned,f.originalIndex=e.originalIndex,f.sortDirection=e.sortDirection,f.sortingAlgorithm=e.sortingAlgorithm,f.headerClass=e.headerClass,f.headerCellTemplate=e.headerCellTemplate,f.cellTemplate=e.cellTemplate,f.cellEditTemplate=e.cellEditTemplate}},N=function(e){this.outerHeight=null,this.outerWidth=null,t.extend(this,e)},C=function(e){this.previousColumn=null,this.grid=e};C.prototype.changeUserSelect=function(e,t){e.css({"-webkit-touch-callout":t,"-webkit-user-select":t,"-khtml-user-select":t,"-moz-user-select":"none"===t?"-moz-none":t,"-ms-user-select":t,"user-select":t})},C.prototype.focusCellElement=function(e,t){if(e.selectionProvider.lastClickedRow){var n=void 0!==t?t:this.previousColumn,r=e.selectionProvider.lastClickedRow.clone?e.selectionProvider.lastClickedRow.clone.elm:e.selectionProvider.lastClickedRow.elm;if(void 0!==n&&r){var i=angular.element(r[0].children).filter(function(){return 8!==this.nodeType}),s=Math.max(Math.min(e.renderedColumns.length-1,n),0);this.grid.config.showSelectionCheckbox&&angular.element(i[s]).scope()&&0===angular.element(i[s]).scope().col.index&&(s=1),i[s]&&i[s].children[1].children[0].focus(),this.previousColumn=n}}},C.prototype.selectionHandlers=function(e,t){function n(n){if(16===n.keyCode)return s.changeUserSelect(t,"none",n),!0;if(!i){i=!0;var r=S(e,t,n,s.grid);return i=!1,r}return!0}function r(e){return 16===e.keyCode&&s.changeUserSelect(t,"text",e),!0}var i=!1,s=this;t.bind("keydown",n),t.bind("keyup",r),t.on("$destroy",function(){t.off("keydown",n),t.off("keyup",r)})};var k=function(n,r,i,s){var o=this;o.colToMove=void 0,o.groupToMove=void 0,o.assignEvents=function(){n.config.jqueryUIDraggable&&!n.config.enablePinning?(n.$groupPanel.droppable({addClasses:!1,drop:function(e){o.onGroupDrop(e)}}),n.$groupPanel.on("$destroy",function(){n.$groupPanel=null})):(n.$groupPanel.on("mousedown",o.onGroupMouseDown).on("dragover",o.dragOver).on("drop",o.onGroupDrop),n.$topPanel.on("mousedown",".ngHeaderScroller",o.onHeaderMouseDown).on("dragover",".ngHeaderScroller",o.dragOver),n.$groupPanel.on("$destroy",function(){n.$groupPanel&&n.$groupPanel.off("mousedown"),n.$groupPanel=null}),n.config.enableColumnReordering&&n.$topPanel.on("drop",".ngHeaderScroller",o.onHeaderDrop),n.$topPanel.on("$destroy",function(){n.$topPanel&&n.$topPanel.off("mousedown"),n.config.enableColumnReordering&&n.$topPanel&&n.$topPanel.off("drop"),n.$topPanel=null})),r.$on("$destroy",r.$watch("renderedColumns",function(){s(o.setDraggables)}))},o.dragStart=function(e){e.dataTransfer.setData("text","")},o.dragOver=function(e){e.preventDefault()},o.setDraggables=function(){if(n.config.jqueryUIDraggable)n.$root&&n.$root.find(".ngHeaderSortColumn").draggable({helper:"clone",appendTo:"body",stack:"div",addClasses:!1,start:function(e){o.onHeaderMouseDown(e)}}).droppable({drop:function(e){o.onHeaderDrop(e)}});else if(n.$root){var e=n.$root.find(".ngHeaderSortColumn");if(angular.forEach(e,function(e){e.className&&-1!==e.className.indexOf("ngHeaderSortColumn")&&(e.setAttribute("draggable","true"),e.addEventListener&&(e.addEventListener("dragstart",o.dragStart),angular.element(e).on("$destroy",function(){angular.element(e).off("dragstart",o.dragStart),e.removeEventListener("dragstart",o.dragStart)})))}),-1!==navigator.userAgent.indexOf("MSIE")){var t=n.$root.find(".ngHeaderSortColumn");t.bind("selectstart",function(){return this.dragDrop(),!1}),angular.element(t).on("$destroy",function(){t.off("selectstart")})}}},o.onGroupMouseDown=function(e){var r=t(e.target);if("ngRemoveGroup"!==r[0].className){var i=angular.element(r).scope();i&&(n.config.jqueryUIDraggable||(r.attr("draggable","true"),this.addEventListener&&(this.addEventListener("dragstart",o.dragStart),angular.element(this).on("$destroy",function(){this.removeEventListener("dragstart",o.dragStart)})),-1!==navigator.userAgent.indexOf("MSIE")&&(r.bind("selectstart",function(){return this.dragDrop(),!1}),r.on("$destroy",function(){r.off("selectstart")}))),o.groupToMove={header:r,groupName:i.group,index:i.$index})}else o.groupToMove=void 0},o.onGroupDrop=function(e){e.stopPropagation();var i,s;o.groupToMove?(i=t(e.target).closest(".ngGroupElement"),"ngGroupPanel"===i.context.className?(r.configGroups.splice(o.groupToMove.index,1),r.configGroups.push(o.groupToMove.groupName)):(s=angular.element(i).scope(),s&&o.groupToMove.index!==s.$index&&(r.configGroups.splice(o.groupToMove.index,1),r.configGroups.splice(s.$index,0,o.groupToMove.groupName))),o.groupToMove=void 0,n.fixGroupIndexes()):o.colToMove&&(-1===r.configGroups.indexOf(o.colToMove.col)&&(i=t(e.target).closest(".ngGroupElement"),"ngGroupPanel"===i.context.className||"ngGroupPanelDescription ng-binding"===i.context.className?r.groupBy(o.colToMove.col):(s=angular.element(i).scope(),s&&r.removeGroup(s.$index))),o.colToMove=void 0),r.$$phase||r.$apply()},o.onHeaderMouseDown=function(e){var n=t(e.target).closest(".ngHeaderSortColumn"),r=angular.element(n).scope();r&&(o.colToMove={header:n,col:r.col})},o.onHeaderDrop=function(e){if(o.colToMove&&!o.colToMove.col.pinned){var s=t(e.target).closest(".ngHeaderSortColumn"),u=angular.element(s).scope();if(u){if(o.colToMove.col===u.col||u.col.pinned)return;r.columns.splice(o.colToMove.col.index,1),r.columns.splice(u.col.index,0,o.colToMove.col),n.fixColumnIndexes(),o.colToMove=void 0,i.digest(r)}}},o.assignGridEventHandlers=function(){-1===n.config.tabIndex?(n.$viewport.attr("tabIndex",i.numberOfGrids),i.numberOfGrids++):n.$viewport.attr("tabIndex",n.config.tabIndex);var s,o=function(){clearTimeout(s),s=setTimeout(function(){i.RebuildGrid(r,n)},100)};t(e).on("resize.nggrid",o);var u,a=function(){clearTimeout(u),u=setTimeout(function(){i.RebuildGrid(r,n)},100)};t(n.$root.parent()).on("resize.nggrid",a),r.$on("$destroy",function(){t(e).off("resize.nggrid",o)})},o.assignGridEventHandlers(),o.assignEvents()},L=function(e,t){e.maxRows=function(){var n=Math.max(e.totalServerItems,t.data.length);return n},e.$on("$destroy",e.$watch("totalServerItems",function(){e.currentMaxPages=e.maxPages()})),e.multiSelect=t.config.enableRowSelection&&t.config.multiSelect,e.selectedItemCount=t.selectedItemCount,e.maxPages=function(){return 0===e.maxRows()?1:Math.ceil(e.maxRows()/e.pagingOptions.pageSize)},e.pageForward=function(){var t=e.pagingOptions.currentPage;e.totalServerItems>0?e.pagingOptions.currentPage=Math.min(t+1,e.maxPages()):e.pagingOptions.currentPage++},e.pageBackward=function(){var t=e.pagingOptions.currentPage;e.pagingOptions.currentPage=Math.max(t-1,1)},e.pageToFirst=function(){e.pagingOptions.currentPage=1},e.pageToLast=function(){var t=e.maxPages();e.pagingOptions.currentPage=t},e.cantPageForward=function(){var n=e.pagingOptions.currentPage,r=e.maxPages();return e.totalServerItems>0?n>=r:1>t.data.length},e.cantPageToLast=function(){return e.totalServerItems>0?e.cantPageForward():!0},e.cantPageBackward=function(){var t=e.pagingOptions.currentPage;return 1>=t}},A=function(i,s,o,u,f,l,c,h,p,d,m){var g={aggregateTemplate:void 0,afterSelectionChange:function(){},beforeSelectionChange:function(){return!0},checkboxCellTemplate:void 0,checkboxHeaderTemplate:void 0,columnDefs:void 0,data:[],dataUpdated:function(){},enableCellEdit:!1,enableCellEditOnFocus:!1,enableCellSelection:!1,enableColumnResize:!1,enableColumnReordering:!1,enableColumnHeavyVirt:!1,enablePaging:!1,enablePinning:!1,enableRowSelection:!0,enableSorting:!0,enableHighlighting:!1,excludeProperties:[],filterOptions:{filterText:"",useExternalFilter:!1},footerRowHeight:55,footerTemplate:void 0,forceSyncScrolling:!0,groups:[],groupsCollapsedByDefault:!0,headerRowHeight:30,headerRowTemplate:void 0,jqueryUIDraggable:!1,jqueryUITheme:!1,keepLastSelected:!0,maintainColumnRatios:void 0,menuTemplate:void 0,multiSelect:!0,pagingOptions:{pageSizes:[250,500,1e3],pageSize:250,currentPage:1},pinSelectionCheckbox:!1,plugins:[],primaryKey:void 0,rowHeight:30,rowTemplate:void 0,selectedItems:[],selectionCheckboxColumnWidth:25,selectWithCheckboxOnly:!1,showColumnMenu:!1,showFilter:!1,showFooter:!1,showGroupPanel:!1,showSelectionCheckbox:!1,sortInfo:{fields:[],columns:[],directions:[]},tabIndex:-1,totalServerItems:0,useExternalSorting:!1,i18n:"en",virtualizationThreshold:50,noTabInterference:!1},y=this;y.maxCanvasHt=0,y.config=t.extend(g,e.ngGrid.config,s),y.config.showSelectionCheckbox=y.config.showSelectionCheckbox&&y.config.enableColumnHeavyVirt===!1,y.config.enablePinning=y.config.enablePinning&&y.config.enableColumnHeavyVirt===!1,y.config.selectWithCheckboxOnly=y.config.selectWithCheckboxOnly&&y.config.showSelectionCheckbox!==!1,y.config.pinSelectionCheckbox=y.config.enablePinning,"string"==typeof s.columnDefs&&(y.config.columnDefs=i.$eval(s.columnDefs)),y.rowCache=[],y.rowMap=[],y.gridId="ng"+c.newId(),y.$root=null,y.$groupPanel=null,y.$topPanel=null,y.$headerContainer=null,y.$headerScroller=null,y.$headers=null,y.$viewport=null,y.$canvas=null,y.rootDim=y.config.gridDim,y.data=[],y.lateBindColumns=!1,y.filteredRows=[],y.initTemplates=function(){var e=["rowTemplate","aggregateTemplate","headerRowTemplate","checkboxCellTemplate","checkboxHeaderTemplate","menuTemplate","footerTemplate"],t=[];return angular.forEach(e,function(e){t.push(y.getTemplate(e))}),m.all(t)},y.getTemplate=function(e){var t=y.config[e],n=y.gridId+e+".html",r=m.defer();if(t&&!v.test(t))d.get(t,{cache:l}).success(function(e){l.put(n,e),r.resolve()}).error(function(){r.reject("Could not load template: "+t)});else if(t)l.put(n,t),r.resolve();else{var i=e+".html";l.put(n,l.get(i)),r.resolve()}return r.promise},"object"==typeof y.config.data&&(y.data=y.config.data),y.calcMaxCanvasHeight=function(){var e;return e=y.config.groups.length>0?y.rowFactory.parsedData.filter(function(e){return!e[a]}).length*y.config.rowHeight:y.filteredRows.length*y.config.rowHeight},y.elementDims={scrollW:0,scrollH:0,rowIndexCellW:y.config.selectionCheckboxColumnWidth,rowSelectedCellW:y.config.selectionCheckboxColumnWidth,rootMaxW:0,rootMaxH:0},y.setRenderedRows=function(e){i.renderedRows.length=e.length;for(var t=0;e.length>t;t++)!i.renderedRows[t]||e[t].isAggRow||i.renderedRows[t].isAggRow?(i.renderedRows[t]=e[t].copy(),i.renderedRows[t].collapsed=e[t].collapsed,e[t].isAggRow||i.renderedRows[t].setVars(e[t])):i.renderedRows[t].setVars(e[t]),i.renderedRows[t].rowIndex=e[t].rowIndex,i.renderedRows[t].offsetTop=e[t].offsetTop,i.renderedRows[t].selected=e[t].selected,e[t].renderedRowIndex=t;y.refreshDomSizes(),i.$emit("ngGridEventRows",e)},y.minRowsToRender=function(){var e=i.viewportDimHeight()||1;return Math.floor(e/y.config.rowHeight)},y.refreshDomSizes=function(){var e=new N;e.outerWidth=y.elementDims.rootMaxW,e.outerHeight=y.elementDims.rootMaxH,y.rootDim=e,y.maxCanvasHt=y.calcMaxCanvasHeight()},y.buildColumnDefsFromData=function(){y.config.columnDefs=[];var e=y.data[0];return e?(c.forIn(e,function(e,t){-1===y.config.excludeProperties.indexOf(t)&&y.config.columnDefs.push({field:t})}),void 0):(y.lateBoundColumns=!0,void 0)},y.buildColumns=function(){var e=y.config.columnDefs,t=[];if(e||(y.buildColumnDefsFromData(),e=y.config.columnDefs),y.config.showSelectionCheckbox&&t.push(new T({colDef:{field:"✔",width:y.elementDims.rowSelectedCellW,sortable:!1,resizable:!1,groupable:!1,headerCellTemplate:l.get(i.gridId+"checkboxHeaderTemplate.html"),cellTemplate:l.get(i.gridId+"checkboxCellTemplate.html"),pinned:y.config.pinSelectionCheckbox},index:0,headerRowHeight:y.config.headerRowHeight,sortCallback:y.sortData,resizeOnDataCallback:y.resizeOnData,enableResize:y.config.enableColumnResize,enableSort:y.config.enableSorting,enablePinning:y.config.enablePinning},i,y,u,l,c)),e.length>0){var n=y.config.showSelectionCheckbox?1:0,r=i.configGroups.length;i.configGroups.length=0,angular.forEach(e,function(e,s){s+=n;var o=new T({colDef:e,index:s+r,originalIndex:s,headerRowHeight:y.config.headerRowHeight,sortCallback:y.sortData,resizeOnDataCallback:y.resizeOnData,enableResize:y.config.enableColumnResize,enableSort:y.config.enableSorting,enablePinning:y.config.enablePinning,enableCellEdit:y.config.enableCellEdit||y.config.enableCellEditOnFocus,cellEditableCondition:y.config.cellEditableCondition},i,y,u,l,c),a=y.config.groups.indexOf(e.field);-1!==a&&(o.isGroupedBy=!0,i.configGroups.splice(a,0,o),o.groupIndex=i.configGroups.length),t.push(o)}),i.columns=t,y.config.groups.length>0&&y.rowFactory.getGrouping(y.config.groups)}},y.configureColumnWidths=function(){var e=[],t=[],n=0,r=0,s={};if(angular.forEach(i.columns,function(e,t){if(c.isNullOrUndefined(e.originalIndex))e.isAggCol&&e.visible&&(r+=25);else{var n=e.originalIndex;y.config.showSelectionCheckbox&&(0===e.originalIndex&&e.visible&&(r+=y.config.selectionCheckboxColumnWidth),n--),s[n]=t}}),angular.forEach(y.config.columnDefs,function(o,u){var a=i.columns[s[u]];o.index=u;var f,l=!1;if(c.isNullOrUndefined(o.width)?o.width="*":(l=isNaN(o.width)?c.endsWith(o.width,"%"):!1,f=l?o.width:parseInt(o.width,10)),isNaN(f)){if(f=o.width,"auto"===f){a.width=a.minWidth,r+=a.width;var h=a;return i.$on("$destroy",i.$on("ngGridEventData",function(){y.resizeOnData(h)})),void 0}if(-1!==f.indexOf("*"))return a.visible!==!1&&(n+=f.length),e.push(o),void 0;if(l)return t.push(o),void 0;throw'unable to parse column width, use percentage ("10%","20%", etc...) or "*" to use remaining width of grid'}a.visible!==!1&&(r+=a.width=parseInt(a.width,10))}),t.length>0){y.config.maintainColumnRatios=y.config.maintainColumnRatios!==!1;var o=0,a=0;angular.forEach(t,function(e){var t=i.columns[s[e.index]],n=parseFloat(e.width)/100;o+=n,t.visible||(a+=n)});var f=o-a;angular.forEach(t,function(e){var t=i.columns[s[e.index]],n=parseFloat(e.width)/100;n/=a>0?f:o;var u=y.rootDim.outerWidth*o;t.width=u*n,r+=t.width})}if(e.length>0){y.config.maintainColumnRatios=y.config.maintainColumnRatios!==!1;var l=y.rootDim.outerWidth-r;y.maxCanvasHt>i.viewportDimHeight()&&(l-=u.ScrollW);var h=Math.floor(l/n);angular.forEach(e,function(t,n){var o=i.columns[s[t.index]];o.width=h*t.width.length,o.width<o.minWidth&&(o.width=o.minWidth),o.visible!==!1&&(r+=o.width);var a=n===e.length-1;if(a&&y.rootDim.outerWidth>r){var f=y.rootDim.outerWidth-r;y.maxCanvasHt>i.viewportDimHeight()&&(f-=u.ScrollW),o.width+=f}})}},y.init=function(){return y.initTemplates().then(function(){i.selectionProvider=new P(y,i,p,c),i.domAccessProvider=new C(y),y.rowFactory=new _(y,i,u,l,c),y.searchProvider=new D(i,y,f,c),y.styleProvider=new H(i,y),i.$on("$destroy",i.$watch("configGroups",function(e){var t=[];angular.forEach(e,function(e){t.push(e.field||e)}),y.config.groups=t,y.rowFactory.filteredRowsChanged(),i.$emit("ngGridEventGroups",e)},!0)),i.$on("$destroy",i.$watch("columns",function(e){i.isColumnResizing||u.RebuildGrid(i,y),i.$emit("ngGridEventColumns",e)},!0)),i.$on("$destroy",i.$watch(function(){return s.i18n},function(e){c.seti18n(i,e)})),y.maxCanvasHt=y.calcMaxCanvasHeight(),y.config.sortInfo.fields&&y.config.sortInfo.fields.length>0&&i.$on("$destroy",i.$watch(function(){return y.config.sortInfo},function(){o.isSorting||(y.sortColumnsInit(),i.$emit("ngGridEventSorted",y.config.sortInfo))},!0))})},y.resizeOnData=function(e){var n=e.minWidth,r=c.getElementsByClassName("col"+e.index);angular.forEach(r,function(e,r){var i;if(0===r){var s=t(e).find(".ngHeaderText");i=c.visualLength(s)+10}else{var o=t(e).find(".ngCellText");i=c.visualLength(o)+10}i>n&&(n=i)}),e.width=e.longest=Math.min(e.maxWidth,n+7),u.BuildStyles(i,y,!0)},y.lastSortedColumns=[],y.sortData=function(e,n){if(n&&n.shiftKey&&y.config.sortInfo){var r=y.config.sortInfo.columns.indexOf(e);-1===r?(1===y.config.sortInfo.columns.length&&(y.config.sortInfo.columns[0].sortPriority=1),y.config.sortInfo.columns.push(e),e.sortPriority=y.config.sortInfo.columns.length,y.config.sortInfo.fields.push(e.field),y.config.sortInfo.directions.push(e.sortDirection),y.lastSortedColumns.push(e)):y.config.sortInfo.directions[r]=e.sortDirection,i.$emit("ngGridEventSorted",y.config.sortInfo)}else if(!y.config.useExternalSorting||y.config.useExternalSorting&&y.config.sortInfo){var s=t.isArray(e);y.config.sortInfo.columns.length=0,y.config.sortInfo.fields.length=0,y.config.sortInfo.directions.length=0;var o=function(e){y.config.sortInfo.columns.push(e),y.config.sortInfo.fields.push(e.field),y.config.sortInfo.directions.push(e.sortDirection),y.lastSortedColumns.push(e)};s?angular.forEach(e,function(e,t){e.sortPriority=t+1,o(e)}):(y.clearSortingData(e),e.sortPriority=void 0,o(e)),y.sortActual(),y.searchProvider.evalFilter(),i.$emit("ngGridEventSorted",y.config.sortInfo)}},y.sortColumnsInit=function(){y.config.sortInfo.columns?y.config.sortInfo.columns.length=0:y.config.sortInfo.columns=[];var e=[];angular.forEach(i.columns,function(t){var n=y.config.sortInfo.fields.indexOf(t.field);-1!==n&&(t.sortDirection=y.config.sortInfo.directions[n]||"asc",e[n]=t)}),1===e.length?y.sortData(e[0]):y.sortData(e)},y.sortActual=function(){if(!y.config.useExternalSorting){var e=y.data.slice(0);angular.forEach(e,function(e,t){var n=y.rowMap[t];if(void 0!==n){var r=y.rowCache[n];void 0!==r&&(e.preSortSelected=r.selected,e.preSortIndex=t)}}),o.Sort(y.config.sortInfo,e),angular.forEach(e,function(e,t){y.rowCache[t].entity=e,y.rowCache[t].selected=e.preSortSelected,y.rowMap[e.preSortIndex]=t,delete e.preSortSelected,delete e.preSortIndex})}},y.clearSortingData=function(e){e?(angular.forEach(y.lastSortedColumns,function(t){e.index!==t.index&&(t.sortDirection="",t.sortPriority=null)}),y.lastSortedColumns[0]=e,y.lastSortedColumns.length=1):(angular.forEach(y.lastSortedColumns,function(e){e.sortDirection="",e.sortPriority=null}),y.lastSortedColumns=[])},y.fixColumnIndexes=function(){for(var e=0;i.columns.length>e;e++)i.columns[e].index=e},y.fixGroupIndexes=function(){angular.forEach(i.configGroups,function(e,t){e.groupIndex=t+1})},i.elementsNeedMeasuring=!0,i.columns=[],i.renderedRows=[],i.renderedColumns=[],i.headerRow=null,i.rowHeight=y.config.rowHeight,i.jqueryUITheme=y.config.jqueryUITheme,i.showSelectionCheckbox=y.config.showSelectionCheckbox,i.enableCellSelection=y.config.enableCellSelection,i.enableCellEditOnFocus=y.config.enableCellEditOnFocus,i.footer=null,i.selectedItems=y.config.selectedItems,i.multiSelect=y.config.multiSelect,i.showFooter=y.config.showFooter,i.footerRowHeight=i.showFooter?y.config.footerRowHeight:0,i.showColumnMenu=y.config.showColumnMenu,i.forceSyncScrolling=y.config.forceSyncScrolling,i.showMenu=!1,i.configGroups=[],i.gridId=y.gridId,i.enablePaging=y.config.enablePaging,i.pagingOptions=y.config.pagingOptions,i.i18n={},c.seti18n(i,y.config.i18n),i.adjustScrollLeft=function(e){for(var t=0,n=0,r=i.columns.length,s=[],o=!y.config.enableColumnHeavyVirt,a=0,f=function(e){o?s.push(e):i.renderedColumns[a]?i.renderedColumns[a].setVars(e):i.renderedColumns[a]=e.copy(),a++},l=0;r>l;l++){var c=i.columns[l];if(c.visible!==!1){var h=c.width+t;if(c.pinned){f(c);var p=l>0?e+n:e;u.setColLeft(c,p,y),n+=c.width}else h>=e&&e+y.rootDim.outerWidth>=t&&f(c);t+=c.width}}o&&(i.renderedColumns=s)},y.prevScrollTop=0,y.prevScrollIndex=0,i.adjustScrollTop=function(e,t){if(y.prevScrollTop!==e||t){e>0&&y.$viewport[0].scrollHeight-e<=y.$viewport.outerHeight()&&i.$emit("ngGridEventScroll");var s,o=Math.floor(e/y.config.rowHeight);if(y.filteredRows.length>y.config.virtualizationThreshold){if(e>y.prevScrollTop&&y.prevScrollIndex+r>o)return;if(y.prevScrollTop>e&&o>y.prevScrollIndex-r)return;s=new O(Math.max(0,o-n),o+y.minRowsToRender()+n)}else{var u=i.configGroups.length>0?y.rowFactory.parsedData.length:y.filteredRows.length;s=new O(0,Math.max(u,y.minRowsToRender()+n))}y.prevScrollTop=e,y.rowFactory.UpdateViewableRange(s),y.prevScrollIndex=o}},i.toggleShowMenu=function(){i.showMenu=!i.showMenu},i.toggleSelectAll=function(e,t){i.selectionProvider.toggleSelectAll(e,!1,t)},i.totalFilteredItemsLength=function(){return y.filteredRows.length},i.showGroupPanel=function(){return y.config.showGroupPanel},i.topPanelHeight=function(){return y.config.showGroupPanel===!0?y.config.headerRowHeight+32:y.config.headerRowHeight},i.viewportDimHeight=function(){return Math.max(0,y.rootDim.outerHeight-i.topPanelHeight()-i.footerRowHeight-2)},i.groupBy=function(e){if(!(1>y.data.length)&&e.groupable&&e.field){e.sortDirection||e.sort({shiftKey:i.configGroups.length>0?!0:!1});var t=i.configGroups.indexOf(e);-1===t?(e.isGroupedBy=!0,i.configGroups.push(e),e.groupIndex=i.configGroups.length):i.removeGroup(t),y.$viewport.scrollTop(0),u.digest(i)}},i.removeGroup=function(e){var t=i.columns.filter(function(t){return t.groupIndex===e+1})[0];t.isGroupedBy=!1,t.groupIndex=0,i.columns[e].isAggCol&&(i.columns.splice(e,1),i.configGroups.splice(e,1),y.fixGroupIndexes()),0===i.configGroups.length&&(y.fixColumnIndexes(),u.digest(i)),i.adjustScrollLeft(0)},i.togglePin=function(e){for(var t=e.index,n=0,r=0;i.columns.length>r&&i.columns[r].pinned;r++)n++;e.pinned&&(n=Math.max(e.originalIndex,n-1)),e.pinned=!e.pinned,i.columns.splice(t,1),i.columns.splice(n,0,e),y.fixColumnIndexes(),u.BuildStyles(i,y,!0),y.$viewport.scrollLeft(y.$viewport.scrollLeft()-e.width)},i.totalRowWidth=function(){for(var e=0,t=i.columns,n=0;t.length>n;n++)t[n].visible!==!1&&(e+=t[n].width);return e},i.headerScrollerDim=function(){var e=i.viewportDimHeight(),t=y.maxCanvasHt,n=t>e,r=new N;return r.autoFitHeight=!0,r.outerWidth=i.totalRowWidth(),n?r.outerWidth+=y.elementDims.scrollW:y.elementDims.scrollH>=t-e&&(r.outerWidth+=y.elementDims.scrollW),r}},O=function(e,t){this.topRow=e,this.bottomRow=t},M=function(e,t,n,r,i){this.entity=e,this.config=t,this.selectionProvider=n,this.rowIndex=r,this.utils=i,this.selected=n.getSelection(e),this.cursor=this.config.enableRowSelection&&!this.config.selectWithCheckboxOnly?"pointer":"default",this.beforeSelectionChange=t.beforeSelectionChangeCallback,this.afterSelectionChange=t.afterSelectionChangeCallback,this.offsetTop=this.rowIndex*t.rowHeight,this.rowDisplayIndex=0};M.prototype.setSelection=function(e){this.selectionProvider.setSelection(this,e),this.selectionProvider.lastClickedRow=this},M.prototype.continueSelection=function(e){this.selectionProvider.ChangeSelection(this,e)},M.prototype.ensureEntity=function(e){this.entity!==e&&(this.entity=e,this.selected=this.selectionProvider.getSelection(this.entity))},M.prototype.toggleSelected=function(e){if(!this.config.enableRowSelection&&!this.config.enableCellSelection)return!0;var t=e.target||e;return"checkbox"===t.type&&"ngSelectionCell ng-scope"!==t.parentElement.className?!0:this.config.selectWithCheckboxOnly&&"checkbox"!==t.type?(this.selectionProvider.lastClickedRow=this,!0):(this.beforeSelectionChange(this,e)&&this.continueSelection(e),!1)},M.prototype.alternatingRowClass=function(){var e=0===this.rowIndex%2,t={ngRow:!0,selected:this.selected,even:e,odd:!e,"ui-state-default":this.config.jqueryUITheme&&e,"ui-state-active":this.config.jqueryUITheme&&!e};return t},M.prototype.getProperty=function(e){return this.utils.evalProperty(this.entity,e)},M.prototype.copy=function(){return this.clone=new M(this.entity,this.config,this.selectionProvider,this.rowIndex,this.utils),this.clone.isClone=!0,this.clone.elm=this.elm,this.clone.orig=this,this.clone},M.prototype.setVars=function(e){e.clone=this,this.entity=e.entity,this.selected=e.selected,this.orig=e};var _=function(e,t,r,i,s){var l=this;l.aggCache={},l.parentCache=[],l.dataChanged=!0,l.parsedData=[],l.rowConfig={},l.selectionProvider=t.selectionProvider,l.rowHeight=30,l.numberOfAggregates=0,l.groupedData=void 0,l.rowHeight=e.config.rowHeight,l.rowConfig={enableRowSelection:e.config.enableRowSelection,rowClasses:e.config.rowClasses,selectedItems:t.selectedItems,selectWithCheckboxOnly:e.config.selectWithCheckboxOnly,beforeSelectionChangeCallback:e.config.beforeSelectionChange,afterSelectionChangeCallback:e.config.afterSelectionChange,jqueryUITheme:e.config.jqueryUITheme,enableCellSelection:e.config.enableCellSelection,rowHeight:e.config.rowHeight},l.renderedRange=new O(0,e.minRowsToRender()+n),l.buildEntityRow=function(e,t){return new M(e,l.rowConfig,l.selectionProvider,t,s)},l.buildAggregateRow=function(t,n){var r=l.aggCache[t.aggIndex];return r||(r=new x(t,l,l.rowConfig.rowHeight,e.config.groupsCollapsedByDefault),l.aggCache[t.aggIndex]=r),r.rowIndex=n,r.offsetTop=n*l.rowConfig.rowHeight,r},l.UpdateViewableRange=function(e){l.renderedRange=e,l.renderedChange()},l.filteredRowsChanged=function(){e.lateBoundColumns&&e.filteredRows.length>0&&(e.config.columnDefs=void 0,e.buildColumns(),e.lateBoundColumns=!1,t.$evalAsync(function(){t.adjustScrollLeft(0)})),l.dataChanged=!0,e.config.groups.length>0&&l.getGrouping(e.config.groups),l.UpdateViewableRange(l.renderedRange)},l.renderedChange=function(){if(!l.groupedData||1>e.config.groups.length)return l.renderedChangeNoGroups(),e.refreshDomSizes(),void 0;l.wasGrouped=!0,l.parentCache=[];var t=0,n=l.parsedData.filter(function(e){return e.isAggRow?e.parent&&e.parent.collapsed?!1:!0:(e[a]||(e.rowIndex=t++),!e[a])});l.totalRows=n.length;for(var r=[],i=l.renderedRange.topRow;l.renderedRange.bottomRow>i;i++)n[i]&&(n[i].offsetTop=i*e.config.rowHeight,r.push(n[i]));e.setRenderedRows(r)},l.renderedChangeNoGroups=function(){for(var t=[],n=l.renderedRange.topRow;l.renderedRange.bottomRow>n;n++)e.filteredRows[n]&&(e.filteredRows[n].rowIndex=n,e.filteredRows[n].offsetTop=n*e.config.rowHeight,t.push(e.filteredRows[n]));e.setRenderedRows(t)},l.fixRowCache=function(){var t=e.data.length,n=t-e.rowCache.length;if(0>n)e.rowCache.length=e.rowMap.length=t;else for(var r=e.rowCache.length;t>r;r++)e.rowCache[r]=e.rowFactory.buildEntityRow(e.data[r],r)},l.parseGroupData=function(e){if(e.values)for(var t=0;e.values.length>t;t++)l.parentCache[l.parentCache.length-1].children.push(e.values[t]),l.parsedData.push(e.values[t]);else for(var n in e)if(n!==o&&n!==u&&n!==f&&e.hasOwnProperty(n)){var r=l.buildAggregateRow({gField:e[o],gLabel:n,gDepth:e[u],isAggRow:!0,_ng_hidden_:!1,children:[],aggChildren:[],aggIndex:l.numberOfAggregates,aggLabelFilter:e[f].aggLabelFilter},0);l.numberOfAggregates++,r.parent=l.parentCache[r.depth-1],r.parent&&(r.parent.collapsed=!1,r.parent.aggChildren.push(r)),l.parsedData.push(r),l.parentCache[r.depth]=r,l.parseGroupData(e[n])}},l.getGrouping=function(n){function c(e,t){return e.filter(function(e){return e.field===t})}l.aggCache=[],l.numberOfAggregates=0,l.groupedData={};for(var h=e.filteredRows,p=n.length,d=t.columns,v=0;h.length>v;v++){var m=h[v].entity;if(!m)return;h[v][a]=e.config.groupsCollapsedByDefault;for(var g=l.groupedData,y=0;n.length>y;y++){var b=n[y],w=c(d,b)[0],E=s.evalProperty(m,b);E=""===E||null===E?"null":""+E,g[E]||(g[E]={}),g[o]||(g[o]=b),g[u]||(g[u]=y),g[f]||(g[f]=w),g=g[E]}g.values||(g.values=[]),g.values.push(h[v])}if(d.length>0)for(var S=0;n.length>S;S++)!d[S].isAggCol&&p>=S&&d.splice(0,0,new T({colDef:{field:"",width:25,sortable:!1,resizable:!1,headerCellTemplate:'<div class="ngAggHeader"></div>',pinned:e.config.pinSelectionCheckbox},enablePinning:e.config.enablePinning,isAggCol:!0,headerRowHeight:e.config.headerRowHeight},t,e,r,i,s));e.fixColumnIndexes(),t.adjustScrollLeft(0),l.parsedData.length=0,l.parseGroupData(l.groupedData),l.fixRowCache()},e.config.groups.length>0&&e.filteredRows.length>0&&l.getGrouping(e.config.groups)},D=function(e,n,r,i){var s=this,o=[];s.extFilter=n.config.filterOptions.useExternalFilter,e.showFilter=n.config.showFilter,e.filterText="",s.fieldMap={};var u=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n.toLowerCase()]=e[n]);return t},a=function(e){if("object"==typeof e){var t=[];for(var n in e)t=t.concat(a(e[n]));return t}return[e]},f=function(e,t,n){var i;for(var s in t)if(t.hasOwnProperty(s)){var o=n[s.toLowerCase()],a=t[s];if("object"!=typeof a||a instanceof Date){var l=null,c=null;if(o&&o.cellFilter&&(c=o.cellFilter.split(":"),l=r(c[0])),null!==a&&void 0!==a){if("function"==typeof l){var h=""+l(a,c[1]?c[1].slice(1,-1):"");i=e.regex.test(h)}else i=e.regex.test(""+a);if(i)return!0}}else{var p=u(o);if(i=f(e,a,p))return!0}}return!1},l=function(e,t){var n,o=s.fieldMap[e.columnDisplay];if(!o)return!1;var u=o.cellFilter.split(":"),f=o.cellFilter?r(u[0]):null,l=t[e.column]||t[o.field.split(".")[0]]||i.evalProperty(t,o.field);if(null===l||void 0===l)return!1;if("function"==typeof f){var c=""+f("object"==typeof l?h(l,o.field):l,u[1]);n=e.regex.test(c)}else{var p=a(h(l,o.field));for(var d in p)n|=e.regex.test(p[d])}return n?!0:!1},c=function(e){for(var t=0,n=o.length;n>t;t++){var r,i=o[t];if(r=i.column?l(i,e):f(i,e,s.fieldMap),!r)return!1}return!0};s.evalFilter=function(){n.filteredRows=0===o.length?n.rowCache:n.rowCache.filter(function(e){return c(e.entity)});for(var e=0;n.filteredRows.length>e;e++)n.filteredRows[e].rowIndex=e;n.rowFactory.filteredRowsChanged()};var h=function(e,t){if("object"!=typeof e||"string"!=typeof t)return e;var n=t.split("."),r=e;if(n.length>1){for(var i=1,s=n.length;s>i;i++)if(r=r[n[i]],!r)return e;return r}return e},p=function(e,t){try{return RegExp(e,t)}catch(n){return RegExp(e.replace(/(\^|\$|\(|\)|<|>|\[|\]|\{|\}|\\|\||\.|\*|\+|\?)/g,"\\$1"))}},d=function(e){o=[];var n;if(n=t.trim(e))for(var r=n.split(";"),i=0;r.length>i;i++){var s=r[i].split(":");if(s.length>1){var u=t.trim(s[0]),a=t.trim(s[1]);u&&a&&o.push({column:u,columnDisplay:u.replace(/\s+/g,"").toLowerCase(),regex:p(a,"i")})}else{var f=t.trim(s[0]);f&&o.push({column:"",regex:p(f,"i")})}}};s.extFilter||e.$on("$destroy",e.$watch("columns",function(e){for(var t=0;e.length>t;t++){var n=e[t];if(n.field)if(n.field.match(/\./g)){for(var r=n.field.split("."),i=s.fieldMap,o=0;r.length-1>o;o++)i[r[o]]=i[r[o]]||{},i=i[r[o]];i[r[r.length-1]]=n}else s.fieldMap[n.field.toLowerCase()]=n;n.displayName&&(s.fieldMap[n.displayName.toLowerCase().replace(/\s+/g,"")]=n)}})),e.$on("$destroy",e.$watch(function(){return n.config.filterOptions.filterText},function(t){e.filterText=t})),e.$on("$destroy",e.$watch("filterText",function(t){s.extFilter||(e.$emit("ngGridEventFilter",t),d(t),s.evalFilter())}))},P=function(e,t,n,r){var i=this;i.multi=e.config.multiSelect,i.selectedItems=e.config.selectedItems,i.selectedIndex=e.config.selectedIndex,i.lastClickedRow=void 0,i.ignoreSelectedItemChanges=!1;var s=e.config.primaryKey;s&&(s=r.preEval("entity."+e.config.primaryKey)),i.pKeyParser=n(s),i.ChangeSelection=function(n,r){var s=r.which||r.keyCode,o=40===s||38===s;if(r&&r.shiftKey&&!r.keyCode&&i.multi&&e.config.enableRowSelection){if(i.lastClickedRow){var u;u=t.configGroups.length>0?e.rowFactory.parsedData.filter(function(e){return!e.isAggRow}):e.filteredRows;var a=n.rowIndex,f=i.lastClickedRowIndex;if(a===f)return!1;f>a?(a^=f,f=a^f,a^=f,a--):f++;for(var l=[];a>=f;f++)l.push(u[f]);if(l[l.length-1].beforeSelectionChange(l,r)){for(var c=0;l.length>c;c++){var h=l[c],p=h.selected;h.selected=!p,h.clone&&(h.clone.selected=h.selected);var d=i.selectedItems.indexOf(h.entity);-1===d?i.selectedItems.push(h.entity):i.selectedItems.splice(d,1)}l[l.length-1].afterSelectionChange(l,r)}return i.lastClickedRow=n,i.lastClickedRowIndex=n.rowIndex,!0}}else i.multi?(!r.keyCode||o&&!e.config.selectWithCheckboxOnly)&&i.setSelection(n,!n.selected):i.lastClickedRow===n?i.setSelection(i.lastClickedRow,e.config.keepLastSelected?!0:!n.selected):(i.lastClickedRow&&i.setSelection(i.lastClickedRow,!1),i.setSelection(n,!n.selected));return i.lastClickedRow=n,i.lastClickedRowIndex=n.rowIndex,!0},i.getSelection=function(e){return-1!==i.getSelectionIndex(e)},i.getSelectionIndex=function(t){var n=-1;if(e.config.primaryKey){var r=i.pKeyParser({entity:t});angular.forEach(i.selectedItems,function(e,t){r===i.pKeyParser({entity:e})&&(n=t)})}else n=i.selectedItems.indexOf(t);return n},i.setSelection=function(t,n){if(e.config.enableRowSelection){if(n)-1===i.getSelectionIndex(t.entity)&&(!i.multi&&i.selectedItems.length>0&&i.toggleSelectAll(!1,!0),i.selectedItems.push(t.entity));else{var r=i.getSelectionIndex(t.entity);-1!==r&&i.selectedItems.splice(r,1)}t.selected=n,t.orig&&(t.orig.selected=n),t.clone&&(t.clone.selected=n),t.afterSelectionChange(t)}},i.toggleSelectAll=function(t,n,r){var s,o,u=r?e.filteredRows:e.rowCache;if(n||e.config.beforeSelectionChange(u,t)){!r&&i.selectedItems.length>0&&(i.selectedItems.length=0);for(var a=0;u.length>a;a++)s=u[a].selected,u[a].selected=t,u[a].clone&&(u[a].clone.selected=t),!s&&t?i.selectedItems.push(u[a].entity):s&&!t&&(o=i.getSelectionIndex(u[a].entity),o>-1&&i.selectedItems.splice(o,1));n||e.config.afterSelectionChange(u,t)}}},H=function(e,t){e.headerCellStyle=function(e){return{height:e.headerRowHeight+"px"}},e.rowStyle=function(t){var n={top:t.offsetTop+"px",height:e.rowHeight+"px"};return t.isAggRow&&(n.left=t.offsetLeft),n},e.canvasStyle=function(){return{height:t.maxCanvasHt+"px"}},e.headerScrollerStyle=function(){return{height:t.config.headerRowHeight+"px"}},e.topPanelStyle=function(){return{width:t.rootDim.outerWidth+"px",height:e.topPanelHeight()+"px"}},e.headerStyle=function(){return{width:t.rootDim.outerWidth+"px",height:t.config.headerRowHeight+"px"}},e.groupPanelStyle=function(){return{width:t.rootDim.outerWidth+"px",height:"32px"}},e.viewportStyle=function(){return{width:t.rootDim.outerWidth+"px",height:e.viewportDimHeight()+"px"}},e.footerStyle=function(){return{width:t.rootDim.outerWidth+"px",height:e.footerRowHeight+"px"}}};w.directive("ngCellHasFocus",["$domUtilityService",function(e){var t=function(t){t.isFocused=!0,e.digest(t),t.$broadcast("ngGridEventStartCellEdit"),t.$emit("ngGridEventStartCellEdit"),t.$on("$destroy",t.$on("ngGridEventEndCellEdit",function(){t.isFocused=!1,e.digest(t)}))};return function(e,n){function r(){return e.enableCellEditOnFocus?f=!0:n.focus(),!0}function i(r){e.enableCellEditOnFocus&&(r.preventDefault(),f=!1,t(e,n))}function s(){return a=!0,e.enableCellEditOnFocus&&!f&&t(e,n),!0}function o(){return a=!1,!0}function u(r){return e.enableCellEditOnFocus||(a&&37!==r.keyCode&&38!==r.keyCode&&39!==r.keyCode&&40!==r.keyCode&&9!==r.keyCode&&!r.shiftKey&&13!==r.keyCode&&t(e,n),a&&r.shiftKey&&r.keyCode>=65&&90>=r.keyCode&&t(e,n),27===r.keyCode&&n.focus()),!0}var a=!1,f=!1;e.editCell=function(){e.enableCellEditOnFocus||setTimeout(function(){t(e,n)},0)},n.bind("mousedown",r),n.bind("click",i),n.bind("focus",s),n.bind("blur",o),n.bind("keydown",u),n.on("$destroy",function(){n.off("mousedown",r),n.off("click",i),n.off("focus",s),n.off("blur",o),n.off("keydown",u)})}}]),w.directive("ngCellText",function(){return function(e,t){function n(e){e.preventDefault()}function r(e){e.preventDefault()}t.bind("mouseover",n),t.bind("mouseleave",r),t.on("$destroy",function(){t.off("mouseover",n),t.off("mouseleave",r)})}}),w.directive("ngCell",["$compile","$domUtilityService","$utilityService",function(e,n,r){var i={scope:!1,compile:function(){return{pre:function(n,i){var s,o=n.col.cellTemplate.replace(c,r.preEval("row.entity."+n.col.field));n.col.enableCellEdit?(s=n.col.cellEditTemplate,s=s.replace(d,n.col.cellEditableCondition),s=s.replace(h,o),s=s.replace(p,n.col.editableCellTemplate.replace(c,r.preEval("row.entity."+n.col.field)))):s=o;var u=t(s);i.append(u),e(u)(n),n.enableCellSelection&&-1===u[0].className.indexOf("ngSelectionCell")&&(u[0].setAttribute("tabindex",0),u.addClass("ngCellElement"))},post:function(e,t){e.enableCellSelection&&e.domAccessProvider.selectionHandlers(e,t),e.$on("$destroy",e.$on("ngGridEventDigestCell",function(){n.digest(e)}))}}}};return i}]),w.directive("ngEditCellIf",[function(){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(e,t,n){return function(e,t,r){var i,s;e.$on("$destroy",e.$watch(r.ngEditCellIf,function(r){i&&(i.remove(),i=void 0),s&&(s.$destroy(),s=void 0),r&&(s=e.$new(),n(s,function(e){i=e,t.after(e)}))}))}}}}]),w.directive("ngGridFooter",["$compile","$templateCache",function(e,t){var n={scope:!1,compile:function(){return{pre:function(n,r){0===r.children().length&&r.append(e(t.get(n.gridId+"footerTemplate.html"))(n))}}}};return n}]),w.directive("ngGridMenu",["$compile","$templateCache",function(e,t){var n={scope:!1,compile:function(){return{pre:function(n,r){0===r.children().length&&r.append(e(t.get(n.gridId+"menuTemplate.html"))(n))}}}};return n}]),w.directive("ngGrid",["$compile","$filter","$templateCache","$sortService","$domUtilityService","$utilityService","$timeout","$parse","$http","$q",function(e,n,r,i,s,o,u,a,f,l){var c={scope:!0,compile:function(){return{pre:function(c,h,p){var d=t(h),v=c.$eval(p.ngGrid);v.gridDim=new N({outerHeight:t(d).height(),outerWidth:t(d).width()});var m=new A(c,v,i,s,n,r,o,u,a,f,l);return c.$on("$destroy",function(){v.gridDim=null,v.selectRow=null,v.selectItem=null,v.selectAll=null,v.selectVisible=null,v.groupBy=null,v.sortBy=null,v.gridId=null,v.ngGrid=null,v.$gridScope=null,v.$gridServices=null,c.domAccessProvider.grid=null,angular.element(m.styleSheet).remove(),m.styleSheet=null}),m.init().then(function(){if("string"==typeof v.columnDefs?c.$on("$destroy",c.$parent.$watch(v.columnDefs,function(e){return e?(m.lateBoundColumns=!1,c.columns=[],m.config.columnDefs=e,m.buildColumns(),m.eventProvider.assignEvents(),s.RebuildGrid(c,m),void 0):(m.refreshDomSizes(),m.buildColumns(),void 0)},!0)):m.buildColumns(),"string"==typeof v.totalServerItems?c.$on("$destroy",c.$parent.$watch(v.totalServerItems,function(e){c.totalServerItems=angular.isDefined(e)?e:0})):c.totalServerItems=0,"string"==typeof v.data){var n=function(e){m.data=t.extend([],e),m.rowFactory.fixRowCache(),angular.forEach(m.data,function(e,t){var n=m.rowMap[t]||t;m.rowCache[n]&&m.rowCache[n].ensureEntity(e),m.rowMap[n]=t}),m.searchProvider.evalFilter(),m.configureColumnWidths(),m.refreshDomSizes(),m.config.sortInfo.fields.length>0&&(m.sortColumnsInit(),c.$emit("ngGridEventSorted",m.config.sortInfo)),c.$emit("ngGridEventData",m.gridId)};c.$on("$destroy",c.$parent.$watch(v.data,n)),c.$on("$destroy",c.$parent.$watch(v.data+".length",function(){n(c.$eval(v.data)),c.adjustScrollTop(m.$viewport.scrollTop(),!0)}))}return m.footerController=new L(c,m),h.addClass("ngGrid").addClass(""+m.gridId),v.enableHighlighting||h.addClass("unselectable"),v.jqueryUITheme&&h.addClass("ui-widget"),h.append(e(r.get("gridTemplate.html"))(c)),s.AssignGridContainers(c,h,m),m.eventProvider=new k(m,c,s,u),v.selectRow=function(e,t){m.rowCache[e]&&(m.rowCache[e].clone&&m.rowCache[e].clone.setSelection(t?!0:!1),m.rowCache[e].setSelection(t?!0:!1))},v.selectItem=function(e,t){v.selectRow(m.rowMap[e],t)},v.selectAll=function(e){c.toggleSelectAll(e)},v.selectVisible=function(e){c.toggleSelectAll(e,!0)},v.groupBy=function(e){if(e)c.groupBy(c.columns.filter(function(t){return t.field===e})[0]);else{var n=t.extend(!0,[],c.configGroups);angular.forEach(n,c.groupBy)}},v.sortBy=function(e){var t=c.columns.filter(function(t){return t.field===e})[0];t&&t.sort()},v.gridId=m.gridId,v.ngGrid=m,v.$gridScope=c,v.$gridServices={SortService:i,DomUtilityService:s,UtilityService:o},c.$on("$destroy",c.$on("ngGridEventDigestGrid",function(){s.digest(c.$parent)})),c.$on("$destroy",c.$on("ngGridEventDigestGridParent",function(){s.digest(c.$parent)})),c.$evalAsync(function(){c.adjustScrollLeft(0)}),angular.forEach(v.plugins,function(e){"function"==typeof e&&(e=new e);var t=c.$new();e.init(t,m,v.$gridServices),v.plugins[o.getInstanceType(e)]=e,c.$on("$destroy",function(){t.$destroy()})}),"function"==typeof v.init&&v.init(m,c),null})}}}};return c}]),w.directive("ngHeaderCell",["$compile",function(e){var t={scope:!1,compile:function(){return{pre:function(t,n){n.append(e(t.col.headerCellTemplate)(t))}}}};return t}]),w.directive("ngHeaderRow",["$compile","$templateCache",function(e,t){var n={scope:!1,compile:function(){return{pre:function(n,r){0===r.children().length&&r.append(e(t.get(n.gridId+"headerRowTemplate.html"))(n))}}}};return n}]),w.directive("ngInput",[function(){return{require:"ngModel",link:function(e,t,n,r){function i(n){switch(n.keyCode){case 37:case 38:case 39:case 40:n.stopPropagation();break;case 27:e.$$phase||e.$apply(function(){r.$setViewValue(u),t.blur()});break;case 13:(e.enableCellEditOnFocus&&e.totalFilteredItemsLength()-1>e.row.rowIndex&&e.row.rowIndex>0||e.col.enableCellEdit)&&t.blur()}return!0}function s(e){e.stopPropagation()}function o(e){e.stopPropagation()}var u,a=e.$watch("ngModel",function(){u=r.$modelValue,a()});t.bind("keydown",i),t.bind("click",s),t.bind("mousedown",o),t.on("$destroy",function(){t.off("keydown",i),t.off("click",s),t.off("mousedown",o)}),e.$on("$destroy",e.$on("ngGridEventStartCellEdit",function(){t.focus(),t.select()})),angular.element(t).bind("blur",function(){e.$emit("ngGridEventEndCellEdit")})}}}]),w.directive("ngRow",["$compile","$domUtilityService","$templateCache",function(e,t,n){var r={scope:!1,compile:function(){return{pre:function(r,i){if(r.row.elm=i,r.row.clone&&(r.row.clone.elm=i),r.row.isAggRow){var s=n.get(r.gridId+"aggregateTemplate.html");s=r.row.aggLabelFilter?s.replace(l,"| "+r.row.aggLabelFilter):s.replace(l,""),i.append(e(s)(r))}else i.append(e(n.get(r.gridId+"rowTemplate.html"))(r));r.$on("$destroy",r.$on("ngGridEventDigestRow",function(){t.digest(r)}))}}}};return r}]),w.directive("ngViewport",[function(){return function(e,t){function n(t){var n=t.target.scrollLeft,r=t.target.scrollTop;return e.$headerContainer&&e.$headerContainer.scrollLeft(n),e.adjustScrollLeft(n),e.adjustScrollTop(r),e.forceSyncScrolling?a():(clearTimeout(o),o=setTimeout(a,150)),s=n,u=r,i=!1,!0}function r(){return i=!0,t.focus&&t.focus(),!0}var i,s,o,u=0,a=function(){e.$root.$$phase||e.$digest()};t.bind("scroll",n),t.bind("mousewheel DOMMouseScroll",r),t.on("$destroy",function(){t.off("scroll",n),t.off("mousewheel DOMMouseScroll",r)}),e.enableCellSelection||e.domAccessProvider.selectionHandlers(e,t)}}]),e.ngGrid.i18n.da={ngAggregateLabel:"artikler",ngGroupPanelDescription:"Grupér rækker udfra en kolonne ved at trække dens overskift hertil.",ngSearchPlaceHolder:"Søg...",ngMenuText:"Vælg kolonner:",ngShowingItemsLabel:"Viste rækker:",ngTotalItemsLabel:"Rækker totalt:",ngSelectedItemsLabel:"Valgte rækker:",ngPageSizeLabel:"Side størrelse:",ngPagerFirstTitle:"Første side",ngPagerNextTitle:"Næste side",ngPagerPrevTitle:"Forrige side",ngPagerLastTitle:"Sidste side"},e.ngGrid.i18n.de={ngAggregateLabel:"eintrag",ngGroupPanelDescription:"Ziehen Sie eine Spaltenüberschrift hierhin um nach dieser Spalte zu gruppieren.",ngSearchPlaceHolder:"Suche...",ngMenuText:"Spalten auswählen:",ngShowingItemsLabel:"Zeige Einträge:",ngTotalItemsLabel:"Einträge gesamt:",ngSelectedItemsLabel:"Ausgewählte Einträge:",ngPageSizeLabel:"Einträge pro Seite:",ngPagerFirstTitle:"Erste Seite",ngPagerNextTitle:"Nächste Seite",ngPagerPrevTitle:"Vorherige Seite",ngPagerLastTitle:"Letzte Seite"},e.ngGrid.i18n.en={ngAggregateLabel:"items",ngGroupPanelDescription:"Drag a column header here and drop it to group by that column.",ngSearchPlaceHolder:"Search...",ngMenuText:"Choose Columns:",ngShowingItemsLabel:"Showing Items:",ngTotalItemsLabel:"Total Items:",ngSelectedItemsLabel:"Selected Items:",ngPageSizeLabel:"Page Size:",ngPagerFirstTitle:"First Page",ngPagerNextTitle:"Next Page",ngPagerPrevTitle:"Previous Page",ngPagerLastTitle:"Last Page"},e.ngGrid.i18n.es={ngAggregateLabel:"Artículos",ngGroupPanelDescription:"Arrastre un encabezado de columna aquí y soltarlo para agrupar por esa columna.",ngSearchPlaceHolder:"Buscar...",ngMenuText:"Elegir columnas:",ngShowingItemsLabel:"Artículos Mostrando:",ngTotalItemsLabel:"Artículos Totales:",ngSelectedItemsLabel:"Artículos Seleccionados:",ngPageSizeLabel:"Tamaño de Página:",ngPagerFirstTitle:"Primera Página",ngPagerNextTitle:"Página Siguiente",ngPagerPrevTitle:"Página Anterior",ngPagerLastTitle:"Última Página"},e.ngGrid.i18n.fa={ngAggregateLabel:"موردها",ngGroupPanelDescription:"یک عنوان ستون اینجا را بردار و به گروهی از آن ستون بیانداز.",ngSearchPlaceHolder:"جستجو...",ngMenuText:"انتخاب ستون‌ها:",ngShowingItemsLabel:"نمایش موردها:",ngTotalItemsLabel:"همهٔ موردها:",ngSelectedItemsLabel:"موردهای انتخاب‌شده:",ngPageSizeLabel:"اندازهٔ صفحه:",ngPagerFirstTitle:"صفحهٔ اول",ngPagerNextTitle:"صفحهٔ بعد",ngPagerPrevTitle:"صفحهٔ قبل",ngPagerLastTitle:"آخرین صفحه"},e.ngGrid.i18n.fr={ngAggregateLabel:"articles",ngGroupPanelDescription:"Faites glisser un en-tête de colonne ici et déposez-le vers un groupe par cette colonne.",ngSearchPlaceHolder:"Recherche...",ngMenuText:"Choisir des colonnes:",ngShowingItemsLabel:"Articles Affichage des:",ngTotalItemsLabel:"Nombre total d'articles:",ngSelectedItemsLabel:"Éléments Articles:",ngPageSizeLabel:"Taille de page:",ngPagerFirstTitle:"Première page",ngPagerNextTitle:"Page Suivante",ngPagerPrevTitle:"Page précédente",ngPagerLastTitle:"Dernière page"},e.ngGrid.i18n.nl={ngAggregateLabel:"items",ngGroupPanelDescription:"Sleep hier een kolomkop om op te groeperen.",ngSearchPlaceHolder:"Zoeken...",ngMenuText:"Kies kolommen:",ngShowingItemsLabel:"Toon items:",ngTotalItemsLabel:"Totaal items:",ngSelectedItemsLabel:"Geselecteerde items:",ngPageSizeLabel:"Pagina grootte:, ",ngPagerFirstTitle:"Eerste pagina",ngPagerNextTitle:"Volgende pagina",ngPagerPrevTitle:"Vorige pagina",ngPagerLastTitle:"Laatste pagina"},e.ngGrid.i18n["pt-br"]={ngAggregateLabel:"itens",ngGroupPanelDescription:"Arraste e solte uma coluna aqui para agrupar por essa coluna",ngSearchPlaceHolder:"Procurar...",ngMenuText:"Selecione as colunas:",ngShowingItemsLabel:"Mostrando os Itens:",ngTotalItemsLabel:"Total de Itens:",ngSelectedItemsLabel:"Items Selecionados:",ngPageSizeLabel:"Tamanho da Página:",ngPagerFirstTitle:"Primeira Página",ngPagerNextTitle:"Próxima Página",ngPagerPrevTitle:"Página Anterior",ngPagerLastTitle:"Última Página"},e.ngGrid.i18n.ru={ngAggregateLabel:"записи",ngGroupPanelDescription:"Перетащите сюда заголовок колонки для группировки по этой колонке.",ngSearchPlaceHolder:"Искать...",ngMenuText:"Выберите столбцы:",ngShowingItemsLabel:"Показаны записи:",ngTotalItemsLabel:"Всего записей:",ngSelectedItemsLabel:"Выбранные записи:",ngPageSizeLabel:"Строк на странице:",ngPagerFirstTitle:"Первая страница",ngPagerNextTitle:"Следующая страница",ngPagerPrevTitle:"Предыдущая страница",ngPagerLastTitle:"Последняя страница"},e.ngGrid.i18n["zh-cn"]={ngAggregateLabel:"条目",ngGroupPanelDescription:"拖曳表头到此处以进行分组",ngSearchPlaceHolder:"搜索...",ngMenuText:"数据分组与选择列：",ngShowingItemsLabel:"当前显示条目：",ngTotalItemsLabel:"条目总数：",ngSelectedItemsLabel:"选中条目：",ngPageSizeLabel:"每页显示数：",ngPagerFirstTitle:"回到首页",ngPagerNextTitle:"下一页",ngPagerPrevTitle:"上一页",ngPagerLastTitle:"前往尾页"},e.ngGrid.i18n["zh-tw"]={ngAggregateLabel:"筆",ngGroupPanelDescription:"拖拉表頭到此處以進行分組",ngSearchPlaceHolder:"搜尋...",ngMenuText:"選擇欄位：",ngShowingItemsLabel:"目前顯示筆數：",ngTotalItemsLabel:"總筆數：",ngSelectedItemsLabel:"選取筆數：",ngPageSizeLabel:"每頁顯示：",ngPagerFirstTitle:"第一頁",ngPagerNextTitle:"下一頁",ngPagerPrevTitle:"上一頁",ngPagerLastTitle:"最後頁"},angular.module("ngGrid").run(["$templateCache",function(e){e.put("aggregateTemplate.html",'<div ng-click="row.toggleExpand()" ng-style="rowStyle(row)" class="ngAggregate">\r\n    <span class="ngAggregateText">{{row.label CUSTOM_FILTERS}} ({{row.totalChildren()}} {{AggItemsLabel}})</span>\r\n    <div class="{{row.aggClass()}}"></div>\r\n</div>\r\n'),e.put("cellEditTemplate.html",'<div ng-cell-has-focus ng-dblclick="CELL_EDITABLE_CONDITION && editCell()">\r\n	<div ng-edit-cell-if="!(isFocused && CELL_EDITABLE_CONDITION)">	\r\n		DISPLAY_CELL_TEMPLATE\r\n	</div>\r\n	<div ng-edit-cell-if="isFocused && CELL_EDITABLE_CONDITION">\r\n		EDITABLE_CELL_TEMPLATE\r\n	</div>\r\n</div>\r\n'),e.put("cellTemplate.html",'<div class="ngCellText" ng-class="col.colIndex()"><span ng-cell-text>{{COL_FIELD CUSTOM_FILTERS}}</span></div>'),e.put("checkboxCellTemplate.html",'<div class="ngSelectionCell"><input tabindex="-1" class="ngSelectionCheckbox" type="checkbox" ng-checked="row.selected" /></div>'),e.put("checkboxHeaderTemplate.html",'<input class="ngSelectionHeader" type="checkbox" ng-show="multiSelect" ng-model="allSelected" ng-change="toggleSelectAll(allSelected, true)"/>'),e.put("editableCellTemplate.html",'<input ng-class="\'colt\' + col.index" ng-input="COL_FIELD" ng-model="COL_FIELD" />'),e.put("footerTemplate.html",'<div ng-show="showFooter" class="ngFooterPanel" ng-class="{\'ui-widget-content\': jqueryUITheme, \'ui-corner-bottom\': jqueryUITheme}" ng-style="footerStyle()">\r\n    <div class="ngTotalSelectContainer" >\r\n        <div class="ngFooterTotalItems" ng-class="{\'ngNoMultiSelect\': !multiSelect}" >\r\n            <span class="ngLabel">{{i18n.ngTotalItemsLabel}} {{maxRows()}}</span><span ng-show="filterText.length > 0" class="ngLabel">({{i18n.ngShowingItemsLabel}} {{totalFilteredItemsLength()}})</span>\r\n        </div>\r\n        <div class="ngFooterSelectedItems" ng-show="multiSelect">\r\n            <span class="ngLabel">{{i18n.ngSelectedItemsLabel}} {{selectedItems.length}}</span>\r\n        </div>\r\n    </div>\r\n    <div class="ngPagerContainer" style="float: right; margin-top: 10px;" ng-show="enablePaging" ng-class="{\'ngNoMultiSelect\': !multiSelect}">\r\n        <div style="float:left; margin-right: 10px;" class="ngRowCountPicker">\r\n            <span style="float: left; margin-top: 3px;" class="ngLabel">{{i18n.ngPageSizeLabel}}</span>\r\n            <select style="float: left;height: 27px; width: 100px" ng-model="pagingOptions.pageSize" >\r\n                <option ng-repeat="size in pagingOptions.pageSizes">{{size}}</option>\r\n            </select>\r\n        </div>\r\n        <div style="float:left; margin-right: 10px; line-height:25px;" class="ngPagerControl" style="float: left; min-width: 135px;">\r\n            <button type="button" class="ngPagerButton" ng-click="pageToFirst()" ng-disabled="cantPageBackward()" title="{{i18n.ngPagerFirstTitle}}"><div class="ngPagerFirstTriangle"><div class="ngPagerFirstBar"></div></div></button>\r\n            <button type="button" class="ngPagerButton" ng-click="pageBackward()" ng-disabled="cantPageBackward()" title="{{i18n.ngPagerPrevTitle}}"><div class="ngPagerFirstTriangle ngPagerPrevTriangle"></div></button>\r\n            <input class="ngPagerCurrent" min="1" max="{{currentMaxPages}}" type="number" style="width:50px; height: 24px; margin-top: 1px; padding: 0 4px;" ng-model="pagingOptions.currentPage"/>\r\n            <span class="ngGridMaxPagesNumber" ng-show="maxPages() > 0">/ {{maxPages()}}</span>\r\n            <button type="button" class="ngPagerButton" ng-click="pageForward()" ng-disabled="cantPageForward()" title="{{i18n.ngPagerNextTitle}}"><div class="ngPagerLastTriangle ngPagerNextTriangle"></div></button>\r\n            <button type="button" class="ngPagerButton" ng-click="pageToLast()" ng-disabled="cantPageToLast()" title="{{i18n.ngPagerLastTitle}}"><div class="ngPagerLastTriangle"><div class="ngPagerLastBar"></div></div></button>\r\n        </div>\r\n    </div>\r\n</div>\r\n'),e.put("gridTemplate.html",'<div class="ngTopPanel" ng-class="{\'ui-widget-header\':jqueryUITheme, \'ui-corner-top\': jqueryUITheme}" ng-style="topPanelStyle()">\r\n    <div class="ngGroupPanel" ng-show="showGroupPanel()" ng-style="groupPanelStyle()">\r\n        <div class="ngGroupPanelDescription" ng-show="configGroups.length == 0">{{i18n.ngGroupPanelDescription}}</div>\r\n        <ul ng-show="configGroups.length > 0" class="ngGroupList">\r\n            <li class="ngGroupItem" ng-repeat="group in configGroups">\r\n                <span class="ngGroupElement">\r\n                    <span class="ngGroupName">{{group.displayName}}\r\n                        <span ng-click="removeGroup($index)" class="ngRemoveGroup">x</span>\r\n                    </span>\r\n                    <span ng-hide="$last" class="ngGroupArrow"></span>\r\n                </span>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n    <div class="ngHeaderContainer" ng-style="headerStyle()">\r\n        <div ng-header-row class="ngHeaderScroller" ng-style="headerScrollerStyle()"></div>\r\n    </div>\r\n    <div ng-grid-menu></div>\r\n</div>\r\n<div class="ngViewport" unselectable="on" ng-viewport ng-class="{\'ui-widget-content\': jqueryUITheme}" ng-style="viewportStyle()">\r\n    <div class="ngCanvas" ng-style="canvasStyle()">\r\n        <div ng-style="rowStyle(row)" ng-repeat="row in renderedRows" ng-click="row.toggleSelected($event)" ng-class="row.alternatingRowClass()" ng-row></div>\r\n    </div>\r\n</div>\r\n<div ng-grid-footer></div>\r\n'),e.put("headerCellTemplate.html",'<div class="ngHeaderSortColumn {{col.headerClass}}" ng-style="{\'cursor\': col.cursor}" ng-class="{ \'ngSorted\': !col.noSortVisible() }">\r\n    <div ng-click="col.sort($event)" ng-class="\'colt\' + col.index" class="ngHeaderText">{{col.displayName}}</div>\r\n    <div class="ngSortButtonDown" ng-click="col.sort($event)" ng-show="col.showSortButtonDown()"></div>\r\n    <div class="ngSortButtonUp" ng-click="col.sort($event)" ng-show="col.showSortButtonUp()"></div>\r\n    <div class="ngSortPriority">{{col.sortPriority}}</div>\r\n    <div ng-class="{ ngPinnedIcon: col.pinned, ngUnPinnedIcon: !col.pinned }" ng-click="togglePin(col)" ng-show="col.pinnable"></div>\r\n</div>\r\n<div ng-show="col.resizable" class="ngHeaderGrip" ng-click="col.gripClick($event)" ng-mousedown="col.gripOnMouseDown($event)"></div>\r\n'),e.put("headerRowTemplate.html",'<div ng-style="{ height: col.headerRowHeight }" ng-repeat="col in renderedColumns" ng-class="col.colIndex()" class="ngHeaderCell">\r\n	<div class="ngVerticalBar" ng-style="{height: col.headerRowHeight}" ng-class="{ ngVerticalBarVisible: !$last }">&nbsp;</div>\r\n	<div ng-header-cell></div>\r\n</div>'),e.put("menuTemplate.html",'<div ng-show="showColumnMenu || showFilter"  class="ngHeaderButton" ng-click="toggleShowMenu()">\r\n    <div class="ngHeaderButtonArrow"></div>\r\n</div>\r\n<div ng-show="showMenu" class="ngColMenu">\r\n    <div ng-show="showFilter">\r\n        <input placeholder="{{i18n.ngSearchPlaceHolder}}" type="text" ng-model="filterText"/>\r\n    </div>\r\n    <div ng-show="showColumnMenu">\r\n        <span class="ngMenuText">{{i18n.ngMenuText}}</span>\r\n        <ul class="ngColList">\r\n            <li class="ngColListItem" ng-repeat="col in columns | ngColumns">\r\n                <label><input ng-disabled="col.pinned" type="checkbox" class="ngColListCheckbox" ng-model="col.visible"/>{{col.displayName}}</label>\r\n				<a title="Group By" ng-class="col.groupedByClass()" ng-show="col.groupable && col.visible" ng-click="groupBy(col)"></a>\r\n				<span class="ngGroupingNumber" ng-show="col.groupIndex > 0">{{col.groupIndex}}</span>          \r\n            </li>\r\n        </ul>\r\n    </div>\r\n</div>'),e.put("rowTemplate.html",'<div ng-style="{ \'cursor\': row.cursor }" ng-repeat="col in renderedColumns" ng-class="col.colIndex()" class="ngCell {{col.cellClass}}">\r\n	<div class="ngVerticalBar" ng-style="{height: rowHeight}" ng-class="{ ngVerticalBarVisible: !$last }">&nbsp;</div>\r\n	<div ng-cell></div>\r\n</div>')}])})(window,jQuery);