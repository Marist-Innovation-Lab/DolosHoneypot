(function(e,t,n){function r(){var t=this;t.name="Footable Sortable",t.init=function(r){t.footable=r,r.options.sort===!0&&e(r.table).bind({footable_initialized:function(){var n,i,s=e(r.table),o=(s.find("> tbody"),r.options.classes.sort);if(s.data("sort")!==!1){s.find("> thead > tr:last-child > th, > thead > tr:last-child > td").each(function(){i=e(this),n=r.columns[i.index()],n.sort.ignore===!0||i.hasClass(o.sortable)||(i.addClass(o.sortable),e("<span />").addClass(o.indicator).appendTo(i))}),s.find("> thead > tr:last-child > th."+o.sortable+", > thead > tr:last-child > td."+o.sortable).unbind("click.footable").bind("click.footable",function(n){n.preventDefault(),i=e(this);var r=!i.hasClass(o.sorted);return t.doSort(i.index(),r),!1});var u=!1;for(var f in r.columns)if(n=r.columns[f],n.sort.initial){var l="descending"!==n.sort.initial;t.doSort(n.index,l);break}u&&r.bindToggleSelectors()}},footable_redrawn:function(){var i=e(r.table),s=r.options.classes.sort;i.data("sorted")>=0&&i.find("> thead > tr:last-child > th").each(function(r){var i=e(this);return i.hasClass(s.sorted)||i.hasClass(s.descending)?(t.doSort(r),n):n})},footable_column_data:function(t){var n=e(t.column.th);t.column.data.sort=t.column.data.sort||{},t.column.data.sort.initial=n.data("sort-initial")||!1,t.column.data.sort.ignore=n.data("sort-ignore")||!1,t.column.data.sort.selector=n.data("sort-selector")||null;var r=n.data("sort-match")||0;r>=t.column.data.matches.length&&(r=0),t.column.data.sort.match=t.column.data.matches[r]}}).data("footable-sort",t)},t.doSort=function(r,i){var s=t.footable;if(e(s.table).data("sort")!==!1){var o=e(s.table),u=o.find("> tbody"),a=s.columns[r],f=o.find("> thead > tr:last-child > th:eq("+r+")"),l=s.options.classes.sort,c=s.options.events.sort;if(i=i===n?f.hasClass(l.sorted):"toggle"===i?!f.hasClass(l.sorted):i,a.sort.ignore===!0)return!0;var h=s.raise(c.sorting,{column:a,direction:i?"ASC":"DESC"});h&&h.result===!1||(o.data("sorted",a.index),o.find("> thead > tr:last-child > th, > thead > tr:last-child > td").not(f).removeClass(l.sorted+" "+l.descending),i===n&&(i=f.hasClass(l.sorted)),i?f.removeClass(l.descending).addClass(l.sorted):f.removeClass(l.sorted).addClass(l.descending),t.sort(s,u,a,i),s.bindToggleSelectors(),s.raise(c.sorted,{column:a,direction:i?"ASC":"DESC"}))}},t.rows=function(t,r,i){var s=[];return r.find("> tr").each(function(){var r=e(this),u=null;if(r.hasClass(t.options.classes.detail))return!0;r.next().hasClass(t.options.classes.detail)&&(u=r.next().get(0));var a={row:r,detail:u};return i!==n&&(a.value=t.parse(this.cells[i.sort.match],i)),s.push(a),!0}).detach(),s},t.sort=function(e,n,r,i){var s=t.rows(e,n,r),o=e.options.sorters[r.type]||e.options.sorters.alpha;s.sort(function(e,t){return i?o(e.value,t.value):o(t.value,e.value)});for(var u=0;s.length>u;u++)n.append(s[u].row),null!==s[u].detail&&n.append(s[u].detail)}}if(t.footable===n||null===t.footable)throw Error("Please check and make sure footable.js is included in the page and is loaded prior to this script.");var i={sort:!0,sorters:{alpha:function(e,t){return e===t?0:t>e?-1:1},numeric:function(e,t){return e-t}},classes:{sort:{sortable:"footable-sortable",sorted:"footable-sorted",descending:"footable-sorted-desc",indicator:"footable-sort-indicator"}},events:{sort:{sorting:"footable_sorting",sorted:"footable_sorted"}}};t.footable.plugins.register(r,i)})(jQuery,window);